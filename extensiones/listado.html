<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimica 3D</title>

	
<!--FontAwasome-->
<script src="https://kit.fontawesome.com/e55b798d0a.js" crossorigin="anonymous"></script>

    <!-- CSS EXTERNO -->
    <link rel="stylesheet" href="../css/estilo.css">

    <!-- FAVICON -->
    <link rel="icon" href="../img/favicon.ico">
   
</head>
<body>
    <header>
           <!-- logo redirige a la pagina principal -->
		   <div class="logo">
          
            <a href="../index.html">
                <img src="../img/logo-kimica.png" alt="logo-kmc" width="150" height="150">
            </a>
			<h1>Hola MakerðŸ‘‹</h1>
        </div>
        
	</header>
        <nav>
            <!-- HIPERVINCULOS DEL MENU -->
			<a href="../index.html">Inicio</a>
            <a href="./impresora-fdm.html">Impresoras de Filamento</a>
            <a href="./impresora-resina.html">Impresoras de Resina</a>
            <a href="./insumos.html">Insumos</a>
            <a href="./trabajos.html">Trabajos</a>
            <a href="./contacto.html">Contacto</a>
        </nav>
   
    
    <main>

        <h1>Comentarios</h1>
        <table> 
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Correo</th>
                    <th>Telefono</th>                
                    <th>Imagen</th>
                    <th>Motivo</th>
                    <th>Preferencia</th>
                    <th>Comentario</th>
                    
                </tr>
            </thead>
            <tbody id="tabla_comentarios"> </tbody>
        </table><br>
    
    
        
    </main>
    <!-- Pie de pÃ¡gina -->
    <footer>
        <a href="./TyC.html">Terminos y Condiciones</a>
        <a href="./pregFrec.html">Preguntas Frecuentes</a>
       
		<div class="redes">
            <a href="https://web.facebook.com/kimica.3d" target="_blank">
                <i class="fa-brands fa-facebook"></i></a>
            <a href="https://www.instagram.com/kimica_3d/" target="_blank">
                <i class="fa-brands fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@kimica_3d" target="_blank">
                <i class="fa-brands fa-tiktok"></i></a>
            <a href="https://walink.co/6101ef" target="_blank">
          
                <i class="fa-brands fa-whatsapp"></i></a>
        </div>
    </footer>
	<script src="../js/contacto.js"></script>
	<script src="https://kit.fontawesome.com/2c36e9b7b1.js" crossorigin="anonymous"></script>	
	
	<script>
        const URL = "http://127.0.0.1:5000/comentarios";
       //const URL = "https://mcastro.pythonanywhere.com/"
        fetch(URL)
        //verifico
            .then(function (response) {
                if (response.ok) {
                    return response.json(); 
                } else {
                    throw new Error('Error al obtener los comentarios.');
                }
            })
            .then(function (data) {
                let tablaComentarios = document.getElementById('tabla_comentarios'); 
                // iterar cada comentario y poner en fila
                for (let comentario of data) {
                    let fila = document.createElement('tr');
                    fila.innerHTML = 
                        `<td>${comentario.nombre}</td>` +
                        `<td>${comentario.correo_electronico}</td>` +
                        `<td>${comentario.telefono}</td>` +
                        `<td>${comentario.motivo}</td>` +
                        `<td>${comentario.preferencia}</td>` +
                        `<td>${comentario.comentario}</td>`+
                        '<td><img src=https://www.pythonanywhere.com/user/mcastro/files/home/mcastro/mysite/static/imagenes/' + consulta.imagen_url +' alt="Imagen del producto" style="width: 100px;"></td>' + '<td align="right">' +consulta.comentario + '</td>';
                       
                    
                    tablaComentarios.appendChild(fila);
                }
            })
            .catch(function (error) {
                alert('Error al obtener los comentarios.');
            });
    </script>




	
</body>
</html>